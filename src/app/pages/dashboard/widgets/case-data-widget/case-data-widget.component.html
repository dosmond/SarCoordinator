<sar-card>
  <mat-tab-group>
    <mat-tab label="Dashboard">
      <sar-card-header>
        <sar-card-header-heading>{{ options.title }}</sar-card-header-heading>
        <sar-card-header-subheading *ngIf="options.id">{{ options.id }}</sar-card-header-subheading>
        <sar-card-header-subheading *ngIf="options.mp">{{ options.mp }}</sar-card-header-subheading>
        <sar-card-header-subheading *ngIf="options.rp">{{ options.rp }}</sar-card-header-subheading>
        <sar-card-header-subheading *ngIf="options.rpPhone">{{ options.rpPhone }}</sar-card-header-subheading>
        <sar-card-header-subheading *ngIf="options.subTitle">{{ options.subTitle }}</sar-card-header-subheading>

        <sar-card-header-actions>
          <button mat-icon-button (click)="openAddVolunteersDialog()">
            <mat-icon>group_add</mat-icon>
          </button>
          <button mat-icon-button (click)="reload()">
            <mat-icon>refresh</mat-icon>
          </button>
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
        </sar-card-header-actions>
      </sar-card-header>

      <sar-card-content class="card-content">
        <case-data-widget-table [data]="tableData" [columns]="tableOptions?.columns"
                                        [pageSize]="tableOptions?.pageSize"
                                        (deleteRow)="deleteRow($event)"
                                        [caseId]="caseId"
                                        [caseName]="caseName"></case-data-widget-table>

      </sar-card-content>

      <mat-menu #menu="matMenu">
        <button (click)="closeCase()" mat-menu-item>
          <mat-icon> check</mat-icon>
          <span> Close Case </span>
        </button>
        <button (click)="editCase()" mat-menu-item>
          <mat-icon> edit</mat-icon>
          <span> Edit Case </span>
        </button>
      </mat-menu>

      <sar-loading-overlay [isLoading]="isLoading"></sar-loading-overlay>
    </mat-tab>


    <mat-tab label="Map">
      <div fxFill fxLayout="column" fxLayoutAlign='end' [fxLayoutGap]="gap" [fxFlex]="col(2)" >
        <div fxFlex="grow">
          <sar-google-maps [caseId]="caseId" [zoom]="mapOptions.zoom"></sar-google-maps>
        </div>
      </div>
    </mat-tab>


    <mat-tab label="Images">
      <sar-photo-grid [caseId]="caseId"></sar-photo-grid>
    </mat-tab>
  </mat-tab-group>
</sar-card>
